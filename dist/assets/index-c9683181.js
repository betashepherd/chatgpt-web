import{e as x,r as d,b as e,j as r,p as N}from"./index-414fcde1.js";import{c as l,d as n}from"./style-550c07a0.js";const C=()=>{const c=x(),[t,p]=d.useState({username:"",plan:"plan30"}),[u,h]=d.useState(""),[g,y]=d.useState(""),v=async()=>{if(t.username==""&&t.plan=="")return n.toast.show("请检查账号和套餐",void 0);if(t.username.trim().length!=11)return n.toast.show("请检查手机号",void 0);const a=await N(t);if(a.data.code===200){console.log(a.data.data);var s="用户名：("+a.data.data.username+")，";a.data.data.password!=null&&a.data.data.password!=""&&(s+="密码：("+a.data.data.password+") ，请牢记。"),s+=`支付宝扫下方二维码，开启AI之旅 :)
`,h(s),y(a.data.data.url_qrcode)}else return n.toast.show(a.data.errorMsg,void 0)},i=a=>{const{name:s,value:m}=a.target;var o;if(s=="plan1"||s=="plan30"||s=="plan90"?o="plan":o=s,s=="username"&&m.trim().length>11)return n.toast.fail("请输入正确手机号");p({...t,[o]:m})},f=async()=>{c("/login")};return e("div",{className:l.app,children:r(n.Flex,{center:!0,direction:"column",style:{background:"var(--gray-7)"},children:[e(n.FlexItem,{flex:"1",style:{marginLeft:"1em"},className:"form-Item",children:e("div",{className:"login-header",children:e("h3",{children:"开通VIP会员"})})}),r(n.FlexItem,{flex:"6",style:{marginLeft:"1em"},className:"form-Item",children:[r("div",{className:l.m_top,children:["手机号：",e("input",{className:"input-item",type:"number",name:"username",id:"username",value:t.username,onChange:a=>i(a),placeholder:"请输入手机号"})]}),r("div",{className:l.m_top,children:["套餐：",e("input",{type:"radio",value:"plan30",name:"plan30",id:"plan30",checked:t.plan==="plan30",onChange:a=>i(a)})," 30天（推荐 ¥30.00）",e("input",{type:"radio",value:"plan90",name:"plan90",id:"plan90",checked:t.plan==="plan90",onChange:a=>i(a)})," 90天（¥90.00）",e("input",{type:"radio",value:"plan1",name:"plan1",id:"plan1",checked:t.plan==="plan1",onChange:a=>i(a)})," 1天（体验 ¥5.00）"]}),r("div",{className:l.m_top,children:[e(n.Button,{color:"primary",size:"md",onClick:()=>v(),children:"开通"}),e(n.Button,{color:"primary",size:"sm",onClick:()=>f(),children:"返回"})]}),r("div",{className:l.m_top,children:[u,e("br",{}),e(n.Image,{src:g,id:"payimage",lazy:!0})]})]})]})})};export{C as default};
